# Development Profile Configuration

# Import secrets file (this file is in .gitignore)
spring.config.import=optional:classpath:application-secrets.properties

# Disable Docker Compose auto-start (enable if Docker is installed)
spring.docker.compose.enabled=false

# Disable Redis for local development (enable if Redis is running)
spring.data.redis.repositories.enabled=false
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration

# PostgreSQL Configuration (Local Development)
# Using local PostgreSQL instead of AWS RDS for development
spring.datasource.url=${db.url}
spring.datasource.username=${db.username}
spring.datasource.password=${db.password}
spring.datasource.driver-class-name=org.postgresql.Driver

# HikariCP Connection Pool Settings
spring.datasource.hikari.connection-timeout=10000
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=1

# JPA/Hibernate Configuration
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.open-in-view=false

# Redis Configuration
spring.data.redis.host=localhost
spring.data.redis.port=6379
spring.data.redis.password=${redis.password:}
spring.data.redis.timeout=2000

# MinIO/S3 Configuration
storage.type=s3
storage.endpoint=
storage.access-key=${storage.access-key}
storage.secret-key=${storage.secret-key}
storage.bucket-name=document-organiser-storage-point
storage.region=us-east-1

# JWT Configuration
jwt.secret=${jwt.secret}
jwt.expiration=86400000
jwt.refresh-expiration=604800000

# Google OAuth2 Configuration
spring.security.oauth2.client.registration.google.client-id=${google.client-id}
spring.security.oauth2.client.registration.google.client-secret=${google.client-secret}
spring.security.oauth2.client.registration.google.scope=email,profile
spring.security.oauth2.client.registration.google.redirect-uri={baseUrl}/oauth2/callback/{registrationId}

# CORS Configuration
cors.allowed-origins=http://localhost:3000
cors.allowed-methods=GET,POST,PUT,DELETE,PATCH,OPTIONS
cors.allowed-headers=*
cors.allow-credentials=true

# Storage Quota (100 MB for dev)
storage.default-quota-mb=100

# Logging
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE
